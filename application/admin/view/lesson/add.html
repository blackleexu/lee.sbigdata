<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>添加课程</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="__STATIC__/admin/css/style.css">
    <link rel="stylesheet" href="__STATIC__/js/layui/css/layui.css">
    <link rel="stylesheet" href="__STATIC__/iconfont/iconfont.css">
    <link rel="shortcut icon" href="__STATIC__/admin/images/favicon.png" />
    <script type="text/javascript" src="__STATIC__/js/layui/layui.js"></script>
    <script type="text/javascript" src="__STATIC__/js/commom.js"></script>
</head>
<style>
    body{
        background: #FFFFFF;
    }
    #myform .layui-form-label{
        width: 14%;
    }
    #myform .layui-input-block{
        margin-left: 15%;
    }
    #myform .layui-upload-img{
        width: 50%;
    }
</style>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>添加新课程</legend>
</fieldset>

<form class="layui-form" action="" id="myform"  enctype="multipart/form-data" method="POST">
    <!--<input type="number" name="teacherId" hidden value="{$Think.session.teacherid}">-->
    <div class="layui-form-item">
        <label class="layui-form-label">课程名</label>
        <div class="layui-input-block">
            <input type="text" name="name" lay-verify="required" autocomplete="off" placeholder="请输入标题" class="layui-input require">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">课程类别</label>
        <div class="layui-input-block">
            <select name="tid" lay-filter="type">
                <option value=""></option>
                {volist name='lesson_type' id='value'}
                <option value="{$value.id}">{$value.name}</option>
                {/volist}
            </select>
        </div>
    </div>

    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">课程简介</label>
        <div class="layui-input-block">
            <textarea name="intro" id="intro" placeholder="请输入内容" class="layui-textarea require"></textarea>
        </div>
    </div>

    <!--<div class="layui-form-item layui-form-text">-->
        <!--<label class="layui-form-label">课程封面</label>-->
        <!--<div class="layui-input-block">-->
            <!--<div class="layui-upload-drag" id="test10">-->
                <!--<i class="layui-icon"></i>-->
                <!--<p>点击上传，或将文件拖拽到此处</p>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->

    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">课程封面</label>
        <div class="layui-input-block">
            <div class="layui-upload">
                <button type="button" class="layui-btn" id="test1">上传图片</button>
                <div class="layui-upload-list">
                    <img class="layui-upload-img" id="demo1">
                    <input type="hidden" name="poster" id="poster" value="">
                    <p id="demoText"></p>
                </div>
            </div>
        </div>
    </div>
</form>

<script>
    //上传文件
    file_upload_manager.normalUpload('{:url("admin/upload")}',{},'#test1','#demo1','#poster');

    // var layedit_index = layeditManager.builder('intro','{:url("admin/layeditUpload")}');

    var  index,layedit;
    layui.use('layedit', function(){
        layedit = layui.layedit;
        layedit.set({
            uploadImage: {
                url: '{:url("admin/layeditUpload")}' //接口url
            }
        });
        index = layedit.build('intro',{height:200}); //建立编辑器
    });

    function syncTexrarea() {
        layedit.sync(index);
        // console.log(layedit_index['index']);
        // console.log(layedit_index['layedit']);
        // layedit_index[layedit].sync(layedit_index[index]);
    }
    layui.use(['form', 'layer','layedit', 'laydate','upload'], function(){
        var form = layui.form;
    });
</script>

</body>
</html>